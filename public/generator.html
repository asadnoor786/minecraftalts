<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alt Generator</title>
    <!-- Bootstrap CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- FontAwesome Icon cdn -->
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="CSS/generator.css" />
  </head>
  <body onload="loadBody()">
    <!-- Navbar start here -->
    <nav class="navbar navbar-expand-lg navbar-dark shadow">
      <div class="container">
        <a class="navbar-brand fs-3 fw-bold" href="#">Alt-Generator</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav ms-auto text-center">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/dashboard"
                >Dashbaord</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/freeGenerator">Generators</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/aboutUs">About Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/login">Login/Sign Up</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Navbar end here -->
    <main
      id="generate-field"
      class="container d-flex justify-content-center mt-5"
    >
      <form method="post" class="generator row justify-content-between w-100 rounded-3 p-3">
        <div class="col-md-7">
          <div class="title">
            <h4 class="fw-bold text-light text-center">
              Free Minecraft Account
            </h4>
            <i
              class="fas fa-exchange-alt ms-4"
              style="font-size: 2em; color: #fff"
            ></i>
          </div>
          <div class="input-container p-3">
            <i class="fas fa-user ico me-2" aria-hidden="true"></i>
            <input
              class="input-field"
              maxlength="100"
              size="40"
              readonly="readonly"
              autocomplete="off"
              value="Click On Generate"
              type="text"
              placeholder="Username"
              id="input1"
              name="name"
            />
            <button title="Copy Username" onclick="copy1()" class="copy-button" type="button">
              <i class="fas fa-copy" aria-hidden="true"></i>
            </button>
          </div>
          <div class="input-container p-3">
            <i class="fas fa-envelope ico ico me-2" aria-hidden="true"></i>
            <input
              class="input-field"
              maxlength="100"
              size="40"
              readonly="readonly"
              autocomplete="off"
              value="Click On Generate"
              type="text"
              placeholder="Username"
              name="name"
              id="input2"
            />
            <button title="Copy Username" onclick="copy2()" class="copy-button" type="button">
              <i class="fas fa-copy" aria-hidden="true"></i>
            </button>
          </div>
          <div class="input-container p-3">
            <i class="fas fa-lock ico ico me-2" aria-hidden="true"></i>
            <input
              class="input-field"
              maxlength="100"
              size="40"
              readonly="readonly"
              autocomplete="off"
              value="Click On Generate"
              type="text"
              placeholder="Username"
              name="name"
              id="input3"
            />
            <button title="Copy Username" onclick="copy3()" class="copy-button" type="button">
              <i class="fas fa-copy" aria-hidden="true"></i>
            </button>
          </div>
          <div class="input-container p-3">
            <i class="fas fa-database ico ico me-2" aria-hidden="true"></i>
            <input
              class="input-field"
              maxlength="100"
              size="40"
              readonly="readonly"
              autocomplete="off"
              value="Click On Generate"
              type="text"
              placeholder="Username"
              name="name"
              id="input4"
            />
            <button title="Copy Username" onclick="copy4()" class="copy-button" type="button">
              <i class="fas fa-copy" aria-hidden="true"></i>
            </button>
          </div>
          <button class="btn btn-success w-100 mt-3">Generate</button>
        </div>
        <div class="col-md-4 mt-5 mt-md-0">
          <h3 class="fw-bold text-center text-light">Account History</h3>
          <div class="account-history rounded-3" id="accss">
            <h5 class="text-center text-light">
              Generate accounts to see them here!
            </h5>
          </div>
        </div>
      </form>
    </main>

    <!-- Bootstrap JS bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script>
      function loadBody() {
        var auth = JSON.parse(localStorage.getItem("Auth"));
     
     if(auth===null) {
         window.location.href="/login";
     }
     else {
        console.log(auth);
        var date = new Date();
        date = date.getDate();
        var date1 = auth['lastLogin'];
     if(date-date1>=1) {
         localStorage.removeItem("Auth");
         window.location.href="/login";
     }
    }
        var lastAccs = JSON.parse(localStorage.getItem("lastGenerate"));
        if(lastAccs===null) {
          // eat five stars do nothings
        }
        else {
        var l = lastAccs.length;
        for(i=1;i<=l;i++) {
          var a = document.createElement("div");
          a.innerHTML = lastAccs[i-1];
          a.setAttribute("id", "generated-accounts");
          var lastDiv = document.getElementById("accss");
          lastDiv.appendChild(a)
        }
        }
        var accsarr = JSON.parse(localStorage.getItem("lastGenerate"));
        if(accsarr===null) {
          accsarr = [];
          localStorage.setItem("lastGenerate", JSON.stringify(accsarr));
        }
        var reqs = localStorage.getItem("today-num");
        if(reqs>=15) {
          alert("Your Per Day Generating Limit Reached!, You Cannot Generate More Accounts!");
          window.location.href="/dashboard";
        }
      document.getElementById("input1").disabled = "true";
      document.getElementById("input2").disabled = "true";
      document.getElementById("input3").disabled = "true";
      document.getElementById("input4").disabled = "true";
      }
      function generate() {
        loadBody();
        var reqs = localStorage.getItem("today-num");
        if(reqs<=14) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
        console.log("sended!");
  };
  xhttp.open("POST", "/freeGenerator", true);
  xhttp.send();
} else {
  alert("Your Per Day Generating Limit Reached!, You Cannot Generate More Accounts!");
}
      }
      function copy1() {
        var textBox = document.getElementById("input1");
        var a = textBox.value;
        navigator.clipboard.writeText(a);
        alert("Copied!");
      }
      function copy2() {
        var textBox = document.getElementById("input2");
        alert("Copied!");
        var a = textBox.value;
        navigator.clipboard.writeText(a);
      }
      function copy3() {
        var textBox = document.getElementById("input3");
        alert("Copied!");
        var a = textBox.value;
        navigator.clipboard.writeText(a);
      }
      function copy4() {
        var textBox = document.getElementById("input4");
        alert("Copied!");
        var a = textBox.value;
        navigator.clipboard.writeText(a);
      }
    </script>
  </body>
</html>
